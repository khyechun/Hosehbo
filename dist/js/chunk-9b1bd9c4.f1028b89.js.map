{"version":3,"sources":["webpack:///./src/views/myInterest.vue?ce96","webpack:///src/views/myInterest.vue","webpack:///./src/views/myInterest.vue?9e79","webpack:///./src/views/myInterest.vue","webpack:///./src/views/myInterest.vue?be73"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$parent","username","_v","_l","interest","index","key","_s","on","$event","deleteInterest","saveNewInterests","staticStyle","directives","name","rawName","value","expression","domProps","target","composing","tag_input","_m","length","tag","addTag","_e","staticRenderFns","components","data","my_interests","all_tags","loader","methods","myInterests","headers","config","splice","indexOf","push","getTags","includes","selected","interest_tag_name","toLowerCase","i","computed","filtered_tags","tags_filtered","mounted","$router","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,UAAY,gBAAgB,SAAU,KAASH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,SAAWN,KAAKO,QAAQC,aAAa,GAAGL,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIU,GAAG,kBAAkBN,EAAG,MAAMJ,EAAIW,GAAIX,EAAgB,cAAE,SAASY,EAASC,GAAO,OAAOT,EAAG,SAAS,CAACU,IAAID,EAAMP,YAAY,kCAAkC,CAACN,EAAIU,GAAG,IAAIV,EAAIe,GAAGH,GAAU,KAAKR,EAAG,IAAI,CAACE,YAAY,iCAAiCU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,eAAeN,YAAkB,GAAGR,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,6BAA6BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAImB,sBAAsB,CAACnB,EAAIU,GAAG,sBAAsBN,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIU,GAAG,uBAAuBN,EAAG,MAAM,CAACgB,YAAY,CAAC,SAAW,aAAa,CAAChB,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAa,UAAEyB,WAAW,cAAcnB,YAAY,yBAAyBC,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW,KAAO,UAAUmB,SAAS,CAAC,MAAS1B,EAAa,WAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOU,OAAOC,YAAqB5B,EAAI6B,UAAUZ,EAAOU,OAAOH,WAAUxB,EAAI8B,GAAG,KAAM9B,EAAI6B,UAAUE,QAAU,EAAG3B,EAAG,MAAM,CAACE,YAAY,kBAAkBc,YAAY,CAAC,aAAa,OAAO,aAAa,OAAO,aAAa,eAAepB,EAAIW,GAAIX,EAAiB,eAAE,SAASgC,EAAInB,GAAO,OAAOT,EAAG,OAAO,CAACU,IAAID,GAAO,CAACT,EAAG,SAAS,CAACE,YAAY,uBAAuBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIiC,OAAOD,MAAQ,CAAChC,EAAIU,GAAG,IAAIV,EAAIe,GAAGiB,EAAIV,MAAM,YAAW,GAAGtB,EAAIkC,cAAc,IAC5zDC,EAAkB,CAAC,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACgB,YAAY,CAAC,SAAW,WAAW,IAAM,MAAM,KAAO,OAAO,MAAQ,SAAS,CAAChB,EAAG,IAAI,CAACE,YAAY,sB,iICuExN,GACE8B,WAAY,CAAd,iCACEC,KAFF,WAGI,MAAO,CACLC,aAAc,GACdC,SAAU,GACVV,UAAW,GACXW,QAAQ,IAIZC,QAAS,CACPC,YADJ,WACA,WACA,qCACA,GACQC,QAAS,CAAjB,oCAEA,wBACM,EAAN,6BACQ,EAAR,kCAIIzB,eAZJ,SAYA,GACM,IAAN,qCACMjB,KAAK2C,OAAS,CACZD,QAAS,CAAjB,oCAEM,IAAN,sBAEM1C,KAAKqC,aAAaO,OAAO5C,KAAKqC,aAAaQ,QAAQlC,GAAW,GAE9DX,KAAKsC,SAASQ,KAAK,CAAzB,qBAGM,EAAN,EACA,QAAQ,UAAR,gCACA,kBACQ,QAAR,WAIIC,QA/BJ,WA+BA,WACA,yBACM,EAAN,2BAEQ,IADA,IAAR,iBACA,oBACU,IAAV,OACU,EAAV,yCAKIf,OA1CJ,SA0CA,GACM,GAAIhC,KAAKqC,aAAaW,SAASjB,EAAIV,MACjCU,EAAIkB,UAAW,OAGjB,GAAIlB,EAAIkB,SACNlB,EAAIkB,UAAW,OAGf,GADAlB,EAAIkB,UAAW,GACVjD,KAAKqC,aAAaW,SAASjB,EAAIV,MAAO,CACzCrB,KAAKqC,aAAaS,KAAKf,EAAIV,MAC3B,IAAK,IAAf,gCACY,IAAZ,wBACY,GAAI6B,EAAkBC,eAAiBpB,EAAIV,KAAK8B,cAAe,CAC7DnD,KAAKsC,SAASM,OAAOQ,EAAG,GACxB,UAOVlC,iBAhEJ,WAgEA,WACMlB,KAAKuC,QAAS,EACd,IAAN,qCACMvC,KAAK2C,OAAS,CACZD,QAAS,CAAjB,oCAEM,IAAN,sBACM,EAAN,EACA,QAAQ,UAAR,gCACA,kBACQ,IAAR,sCACQ,EAAR,iBACQ,YAAR,WAAU,EAAV,gDACQ,QAAR,OACQ,EAAR,eAMEW,SAAU,CACRC,cADJ,WAGM,GAAN,0BACQ,OAAOtD,KAAKsC,SAEd,IALN,EAKUiB,EAAgB,GAL1B,iBAMA,eANA,IAMA,0CACA,oBACA,6DACA,mCATA,8BAaM,OAAOA,IAIXC,QAjHF,WAkHA,uBAIIxD,KAAKyC,cACLzC,KAAK+C,WAJH/C,KAAKyD,QAAQX,KAAK,CAAxB,+GC3LoV,I,wBCQhVY,EAAY,eACd,EACA5D,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,2CCnBf","file":"js/chunk-9b1bd9c4.f1028b89.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-4 mb-4 container-fluid\"},[_c('Toast',{attrs:{\"toastText\":\"Changes Saved\",\"showImg\":false}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('SideProfile',{attrs:{\"username\":this.$parent.username}})],1),_c('div',{staticClass:\"col-md-9 col-lg-7\"},[_c('h3',{staticClass:\"fw-bold\"},[_vm._v(\"My Interests\")]),_c('div',_vm._l((_vm.my_interests),function(interest,index){return _c('button',{key:index,staticClass:\"btn interest-btn pe-1 ps-2 m-2\"},[_vm._v(\" \"+_vm._s(interest)+\" \"),_c('i',{staticClass:\"far fa-times-circle fa-md ms-1\",on:{\"click\":function($event){return _vm.deleteInterest(interest)}}})])}),0),_c('hr'),_c('div',{staticClass:\"text-end\"},[_c('button',{staticClass:\"btn btn-black rounded-pill\",on:{\"click\":function($event){return _vm.saveNewInterests()}}},[_vm._v(\" Save Changes \")])]),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col\"},[_c('h3',{staticClass:\"fw-bold\"},[_vm._v(\"Add New Interests\")]),_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tag_input),expression:\"tag_input\"}],staticClass:\"form-control ps-5 mt-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Search..\",\"name\":\"search\"},domProps:{\"value\":(_vm.tag_input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tag_input=$event.target.value}}}),_vm._m(0)]),(_vm.tag_input.length >= 0)?_c('div',{staticClass:\"text-start mt-3\",staticStyle:{\"max-height\":\"50vh\",\"overflow-y\":\"auto\",\"word-break\":\"break-word\"}},_vm._l((_vm.filtered_tags),function(tag,index){return _c('span',{key:index},[_c('button',{staticClass:\"btn interest-btn m-1\",on:{\"click\":function($event){return _vm.addTag(tag)}}},[_vm._v(\" \"+_vm._s(tag.name)+\" \")])])}),0):_vm._e()])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"7px\",\"left\":\"10px\",\"color\":\"grey\"}},[_c('i',{staticClass:\"fas fa-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mt-4 mb-4 container-fluid\">\r\n    <Toast toastText=\"Changes Saved\" :showImg=\"false\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-3\">\r\n        <SideProfile :username=\"this.$parent.username\"/>\r\n      </div>\r\n\r\n      <div class=\"col-md-9 col-lg-7\">\r\n        <h3 class=\"fw-bold\">My Interests</h3>\r\n\r\n        <div>\r\n          <button\r\n            class=\"btn interest-btn pe-1 ps-2 m-2\"\r\n            v-for=\"(interest, index) in my_interests\"\r\n            :key=\"index\"\r\n          >\r\n            {{ interest }}\r\n            <i\r\n              class=\"far fa-times-circle fa-md ms-1\"\r\n              @click=\"deleteInterest(interest)\"\r\n            ></i>\r\n          </button>\r\n        </div>\r\n        <hr>\r\n\r\n        <div class=\"text-end\">\r\n          <button\r\n            class=\"btn btn-black rounded-pill\"\r\n            @click=\"saveNewInterests()\"\r\n          >\r\n\r\n            Save Changes\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"row mt-3\">\r\n          <div class=\"col\">\r\n            <h3 class=\"fw-bold\">Add New Interests</h3>\r\n            <div style=\"position:relative;\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search..\"\r\n                name=\"search\"\r\n                class=\"form-control ps-5 mt-3\"\r\n                \r\n                v-model=\"tag_input\"\r\n              />\r\n              <span style=\"position:absolute; top:7px; left: 10px; color:grey;\"\r\n                ><i class=\"fas fa-search\"></i\r\n              ></span>\r\n            </div>\r\n\r\n            <div v-if=\"tag_input.length >= 0\" class=\"text-start mt-3\" style=\"max-height:50vh;overflow-y:auto;word-break:break-word;\">\r\n              <span v-for=\"(tag, index) of filtered_tags\" :key=\"index\">\r\n                <button class=\"btn interest-btn m-1\" @click=\"addTag(tag)\">\r\n                  {{ tag.name }}\r\n                </button>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SideProfile from \"@/components/SideProfile.vue\";\r\nimport Toast from \"@/components/Toast.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: { SideProfile, Toast },\r\n  data() {\r\n    return {\r\n      my_interests: [],\r\n      all_tags: [],\r\n      tag_input: \"\",\r\n      loader: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    myInterests() {\r\n      let bearer_token = window.localStorage.getItem(\"jwt\");\r\n      const config = {\r\n        headers: { authorization: `Bearer ${bearer_token}` },\r\n      };\r\n      let url = \"/api/getUserDetails\";\r\n      axios.get(url, config).then((response) => {\r\n        this.my_interests = response.data.interests;\r\n      });\r\n    },\r\n\r\n    deleteInterest(interest) {\r\n      let bearer_token = window.localStorage.getItem(\"jwt\");\r\n      this.config = {\r\n        headers: { authorization: `Bearer ${bearer_token}` },\r\n      };\r\n      let url = \"/api/setInterests\";\r\n\r\n      this.my_interests.splice(this.my_interests.indexOf(interest), 1);\r\n\r\n      this.all_tags.push({name: interest, selected: false})\r\n\r\n\r\n      axios\r\n        .post(url, { interests: this.my_interests }, this.config)\r\n        .then((response) => {\r\n          console.log(response);\r\n        });\r\n    },\r\n\r\n    getTags() {\r\n      let url = \"/api/getActivityTags\";\r\n      axios.get(url).then((response) => {\r\n        let tags = response.data[0].Tags;\r\n        for (let i = 0; i < tags.length; i++) {\r\n          let tag = tags[i];\r\n          this.all_tags.push({ name: tag, selected: false });\r\n        }\r\n      });\r\n    },\r\n\r\n    addTag(tag) {\r\n      if (this.my_interests.includes(tag.name)) {\r\n        tag.selected = false;\r\n        return;\r\n      }\r\n      if (tag.selected) {\r\n        tag.selected = false;\r\n      } else {\r\n        tag.selected = true;\r\n        if (!this.my_interests.includes(tag.name)) {\r\n          this.my_interests.push(tag.name);\r\n          for (let i = 0; i < this.all_tags.length; i++) {\r\n            let interest_tag_name = this.all_tags[i].name;\r\n            if (interest_tag_name.toLowerCase() == tag.name.toLowerCase()) {\r\n              this.all_tags.splice(i, 1);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    saveNewInterests() {\r\n      this.loader = true;\r\n      let bearer_token = window.localStorage.getItem(\"jwt\");\r\n      this.config = {\r\n        headers: { authorization: `Bearer ${bearer_token}` },\r\n      };\r\n      let url = \"/api/setInterests\";\r\n      axios\r\n        .post(url, { interests: this.my_interests }, this.config)\r\n        .then((response) => {\r\n          var toast = document.getElementById(\"snackbar\");\r\n          toast.className = \"show\";\r\n          setTimeout(function(){ toast.className = toast.className.replace(\"show\", \"\"); }, 3000);\r\n          console.log(response);\r\n          this.loader=false\r\n\r\n        });\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    filtered_tags() {\r\n\r\n      if(this.tag_input.trim() == \"\"){\r\n        return this.all_tags\r\n      }\r\n      var tags_filtered = [];\r\n      for (let tag of this.all_tags) {\r\n        if (this.tag_input != \"\") {\r\n          if (tag.name.toLowerCase().includes(this.tag_input.toLowerCase())) {\r\n            tags_filtered.push({ name: tag.name, selected: false });\r\n          }\r\n        }\r\n      }\r\n      return tags_filtered;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if(!this.$parent.loggedIn){\r\n      this.$router.push({ name: \"Login\", query:{ redirect : \"myInterest\", msg : \"Oops! You must be logged in to access your interests page\"} });\r\n      return\r\n    }\r\n    this.myInterests();\r\n    this.getTags();\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 6.5px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n\r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInterest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInterest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myInterest.vue?vue&type=template&id=1e90ac2e&scoped=true&\"\nimport script from \"./myInterest.vue?vue&type=script&lang=js&\"\nexport * from \"./myInterest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myInterest.vue?vue&type=style&index=0&id=1e90ac2e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e90ac2e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInterest.vue?vue&type=style&index=0&id=1e90ac2e&lang=scss&scoped=true&\""],"sourceRoot":""}