(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6acef30c"],{"1f00":function(t,i,a){},"52a5":function(t,i,a){},7561:function(t,i,a){"use strict";a("52a5")},a276:function(t,i,a){"use strict";a("1f00")},a8b8:function(t,i,a){"use strict";var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"circle_container "},[a("div",{staticClass:"circle_main mx-auto",style:{backgroundColor:t.getRandomColor(),width:t.width,height:t.width}},[a("div",{staticClass:"circle_text_container"},[a("div",{staticClass:"circle_text text-white"},[t._v(" "+t._s(t.initial[0].toUpperCase())+" ")])])])])},e=[],c={name:"DisplayPicture",props:{initial:{type:String},width:{type:String,default:"128px"}},methods:{getRandomColor:function(){for(var t="0123456789ABCDEF",i="#",a=0;a<6;a++)i+=t[Math.floor(16*Math.random())];return i}}},l=c,n=(a("a276"),a("2877")),o=Object(n["a"])(l,s,e,!1,null,"43d47f40",null);i["a"]=o.exports},d43f:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("transition",{attrs:{name:"fade"}},[t.load?s("Loader",{staticStyle:{position:"absolute",top:"40%",left:"50%","margin-left":"-40px"}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[t.load?t._e():s("div",{attrs:{id:"view_activity"}},[s("div",{staticClass:"bg-img",style:{backgroundImage:"url("+t.activity_details.Image+")"}},[s("img",{staticClass:"img-fluid mb-4 shadow activity-image",staticStyle:{display:"none"},attrs:{src:t.activity_details.Image,id:"mobile-img"}})]),s("div",{staticClass:"container-fluid mt-3",staticStyle:{"max-width":"1100px"}},[s("div",{staticClass:"row mb-3 mx-auto",staticStyle:{"max-width":"1200px"}},[s("div",{staticClass:"col-12"},[s("h1",{staticClass:"mb-3",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.activity_details.Title))])]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-8 col-lg-9"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-1 col-md-2"},[s("img",{staticClass:"icon",attrs:{src:a("3405")}})]),s("div",{staticClass:"col-10 ps-0"},[t.activity_details.Online?s("a",{staticClass:"break",attrs:{href:t.online_url,target:"_blank"}},[t._v(t._s(t.activity_details.Online_url))]):t._e(),t.activity_details.Online?t._e():s("a",{attrs:{target:"_blank",href:t.google_maps_url}},[t._v(t._s(t.activity_details.Address))])])])]),s("div",{staticClass:"col-12 col-md-6 mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-1 col-md-2"},[s("img",{staticClass:"icon",attrs:{src:a("31af")}})]),s("div",{staticClass:"col-10 ps-0",staticStyle:{"font-size":"17px"}},[t._v(" Created by "+t._s(t.activity_details.Username)+" ")])])]),s("div",{staticClass:"col-12 col-md-6 mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-1 col-md-2"},[s("img",{staticClass:"icon",attrs:{src:a("19b0")}})]),s("div",{staticClass:"col-10 ps-0",staticStyle:{"font-size":"17px"}},[-1!=t.activity_details.Participant_Limit?s("span",[t._v(t._s(t.activity_details.Participant_Limit)+" pax")]):s("span",[t._v("No limit")])])])]),s("div",{staticClass:"col-12 col-md-6 mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-1 col-md-2 d-flex align-items-center"},[s("img",{staticClass:"icon",attrs:{src:a("e0f8")}})]),s("div",{staticClass:"col-10 ps-0"},[s("span",{staticClass:"badge bg-dark"},[s("FormatDate",{attrs:{dateStr:t.activity_details.StartDate}})],1),""!=t.activity_details.EndDate?s("span",[t._v(" to "),s("span",{staticClass:"badge bg-dark"},[s("FormatDate",{attrs:{dateStr:t.activity_details.EndDate}})],1)]):t._e(),s("br"),s("span",{staticClass:"badge bg-dark"},[t._v(t._s(t.format_StartTime))]),""!=t.activity_details.EndTime?s("span",[t._v(" to "),s("span",{staticClass:"badge bg-dark"},[t._v(t._s(t.format_EndTime))])]):t._e()])])])])]),s("div",{staticClass:"col-12 col-md-4 col-lg-3 text-end mt-2"},[s("div",[this.$parent.loggedIn&&t.activity_details.Email==this.$parent.email&&t.activity_details.Request?s("button",{staticClass:"btn-black btn rounded-pill",staticStyle:{"max-width":"200px",width:"100%"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#request-modal"}},[t._v(" View Requests ")]):s("button",{staticClass:"btn btn-black rounded-pill",staticStyle:{"max-width":"200px",width:"100%"},attrs:{disabled:t.expired||t.disable_btn||t.requested||t.participant_limit_reached&&!t.joined},on:{click:function(i){return t.joinActivity()}}},[t.expired?s("span",[t._v("Activity Expired")]):t.joined?s("span",[t._v("Leave Activity")]):t.participant_limit_reached?s("span",[t._v("Participant Limit Reached")]):t.joined||t.requested?t.activity_details.Request&&t.requested?s("span",[t._v("Join Request Submitted")]):t._e():s("span",[t._v("Join Now")]),t.disable_btn?s("div",{staticClass:"spinner-border text-light",staticStyle:{width:"15px",height:"15px","margin-left":"5px"},attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Loading...")])]):t._e()])]),s("div",[s("button",{staticClass:"btn btn-outline-black rounded-pill mt-3",staticStyle:{"max-width":"200px",width:"100%"},attrs:{"data-clipboard-text":t.url_share},on:{click:function(i){return t.shareActivity()}}},[t._v("Share this Activity")])])])])])]),0!=t.activity_details.Description.trim().length?s("div",{staticClass:"row mb-5 mx-auto",staticStyle:{"max-width":"1200px"}},[s("div",{staticClass:"col-12",staticStyle:{"font-size":"17px"}},[t._v(" "+t._s(this.activity_details.Description)+" ")])]):t._e(),s("div",{staticClass:"row mb-3 mx-auto",staticStyle:{"max-width":"1200px"}},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-12 fw-bold mb-1"},[s("h2",{staticStyle:{"font-weight":"600"}},[t._v(" Participants ("+t._s(this.activity_details.Participants.length)+") ")])]),s("div",{staticClass:"col-12"},[s("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},t._l(t.activity_details.Participants,(function(i,a){return s("span",{key:a,staticClass:"mb-2 px-2",staticStyle:{display:"inline-block"}},[s("DisplayPicture",{attrs:{initial:i.username,width:"90px"}}),s("div",{staticClass:"text-center"},[t._v(t._s(i.username))])],1)})),0)])])])]),t.activity_details.Custom_Images.length>0?s("div",{staticClass:"row mb-3 mx-auto",staticStyle:{"max-width":"1200px"}},[s("div",{staticClass:"col-12 fw-bold mb-1"},[s("h2",{staticStyle:{"font-weight":"600"}},[t._v("Photos")])]),t._l(t.activity_details.Custom_Images,(function(t,i){return s("div",{key:i,staticClass:"col-lg-3 col-md-6 col-6 mb-3 p-1 text-center"},[s("img",{staticClass:"rounded-1 img-fluid",attrs:{src:t}})])}))],2):t._e(),s("div",{staticClass:"row mb-3 mx-auto",staticStyle:{"max-width":"1200px"}},[t.activity_details.Tags.length>0?s("div",{staticClass:"col-12 mb-3"},[t._v(" Tags Used: "),t._l(t.activity_details.Tags,(function(i,a){return s("a",{key:a,staticClass:"btn btn-light rounded-pill m-2"},[t._v(t._s(i))])}))],2):t._e()])]),s("Toast",{attrs:{toastText:"Invite Link copied to clipboard"}}),s("div",{staticClass:"modal fade",attrs:{id:"request-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"700px"}},[s("div",{staticClass:"modal-content",staticStyle:{"min-height":"140px"}},[s("div",{staticClass:"modal-header border-0"},[s("h5",{staticClass:"modal-title fw-bold",attrs:{id:"exampleModalLabel"}},[t._v("Applications")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body",staticStyle:{"max-height":"60vh","overflow-x":"auto","white-space":"nowrap"}},[s("div",{staticClass:"row"},[t.requestLoad?s("div",{staticClass:"col-12 my-3"},[t._v(" Loading"),s("span",{staticClass:"one"},[t._v(".")]),s("span",{staticClass:"two"},[t._v(".")]),s("span",{staticClass:"three"},[t._v(".")])]):t._e()]),0==t.activity_details.Participant_Requests.length?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t._v(" There are currently no participant requests... "),s("br"),t._v(" Check again later! ")])]):t._e(),t._l(t.activity_details.Participant_Requests,(function(i,a){return s("div",{key:a,staticClass:"row mb-3"},[s("div",{staticClass:" col-md-1 px-2"}),s("div",{staticClass:" col-12 col-md-5 px-2"},[s("h5",[t._v(t._s(i.username))])]),s("div",{staticClass:" col-6 col-md-3 px-2"},[s("button",{staticClass:"btn btn-black w-100 pill-rounded px-1",attrs:{disabled:t.requestLoad},on:{click:function(a){return t.acceptRequest(i,!0)}}},[t._v("Accept")])]),s("div",{staticClass:" col-6 col-md-3 px-2"},[s("button",{staticClass:"btn btn-black btn-outline-black w-100 pill-rounded px-1",attrs:{disabled:t.requestLoad},on:{click:function(a){return t.acceptRequest(i,!1)}}},[t._v("Decline")])])])}))],2)])])])],1)])],1)},e=[],c=(a("ac1f"),a("5319"),a("1276"),a("a9e3"),a("caad"),a("2532"),a("bc3a")),l=a.n(c),n=a("0eb4"),o=a("d55a"),r=a("b311"),d=a.n(r),m=a("a8b8"),u=a("555f"),v={name:"view_activity",components:{Toast:n["a"],FormatDate:o["a"],DisplayPicture:m["a"],Loader:u["a"]},data:function(){return{activity_details:{_id:{$oid:"616a8cf2b143aab9c366a6c0"},Title:"Valorant Scrims",Image:"https://cdn.discordapp.com/attachments/898849796155133973/901356160492396564/valorant.jpeg",Custom_Images:[],Description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",Email:"khyechun@gmail.com",Online:!0,Participant_Limit:{$numberLong:"100"},Tags:["Valorant","Gaming"],Activity_url:"",Participants:[{username:"ngly",email:"ngly@gmail.com",img:"https://cdn.discordapp.com/attachments/898849796155133973/901325860928372756/cat.png"},{username:"khye_chun",email:"khyechun@gmail.com",img:"https://cdn.discordapp.com/attachments/898849796155133973/901325860928372756/cat.png"}],EndTime:"15:00",StartTime:"12:00",Request:!0,EndDate:"2021-11-01",StartDate:"2021-11-01",Username:"khye_chun",Address:"",Online_url:"https://discord.gg/Ds5Tt9wVgz",Participant_Requests:[]},a_participant_arr:[],a_img_arr:[],email:"",config:{},disable_btn:!1,url_share:window.location.href,requestLoad:!1,load:!0}},mounted:function(){},created:function(){this.activity_id=this.$route.params.activity,this.return_activity_details(),this.getUserDetails()},methods:{return_activity_details:function(){var t=this,i="/api/getActivity/"+this.activity_id;l.a.get(i).then((function(i){t.activity_details=i.data.data,setTimeout((function(){t.load=!1}),800)})).catch((function(t){console.log(t+"hehe xd sads")}))},getUserDetails:function(){var t=this;if(this.$parent.loggedIn){var i=window.localStorage.getItem("jwt");this.config={headers:{authorization:"Bearer ".concat(i)}};var a="../api/getUserDetails";l.a.get(a,this.config).then((function(i){t.email=i.data.email}))}},populate_img_arr:function(){},populate_participant_arr:function(){},joinActivity:function(){var t=this,i="../api/joinActivity/"+this.activity_id;this.disable_btn=!0,this.$parent.loggedIn?l.a.post(i,{},this.config).then((function(i){console.log(i),t.disable_btn=!1,t.return_activity_details()})):this.$router.push({name:"Login",query:{redirect:"View Activities",msg:"Oops! You must be logged in to join an activity!",activity:this.activity_id}})},shareActivity:function(){new d.a(".btn");var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3)},acceptRequest:function(t,i){var a=this;this.requestLoad=!0;var s="/api/acceptRequest/"+i+"/"+this.activity_id,e={userObj:t};l.a.post(s,e,this.config).then((function(){var t="/api/getActivity/"+a.activity_id;l.a.get(t).then((function(t){console.log(t.data.data),a.activity_details=t.data.data,a.requestLoad=!1})).catch((function(t){console.log(t+"hehe xd sads")}))}))}},computed:{google_maps_url:function(){return"http://maps.google.com/?q="+this.activity_details.Address},format_StartTime:function(){var t=this.activity_details.StartTime.split(":");return t[0]<13?t[0]+":"+t[1]+" am":Number(t[0])-12+":"+t[1]+" pm"},format_EndTime:function(){var t=this.activity_details.EndTime.split(":");return t[0]<13?t[0]+":"+t[1]+" am":Number(t[0])-12+":"+t[1]+" pm"},joined:function(){var t=this;return!!this.activity_details.Participants.some((function(i){return i.email==t.email}))},requested:function(){var t=this;return!!this.activity_details.Participant_Requests.some((function(i){return i.email==t.email}))},participant_limit_reached:function(){return-1!=this.activity_details.Participant_Limit&&this.activity_details.Participants.length>=this.activity_details.Participant_Limit},online_url:function(){var t=this.activity_details.Online_url;return t.includes("http")?t:"https://"+t},expired:function(){var t=new Date(this.activity_details.StartDate),i=new Date,a=Math.floor((t-i)/864e5);return a<0}}},p=v,_=(a("7561"),a("2877")),h=Object(_["a"])(p,s,e,!1,null,"16f82f7e",null);i["default"]=h.exports}}]);
//# sourceMappingURL=chunk-6acef30c.4dea28d2.js.map