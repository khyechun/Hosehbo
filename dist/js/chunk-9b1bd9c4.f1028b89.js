(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b1bd9c4"],{"70c0":function(t,e,s){},a5d9:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4 mb-4 container-fluid"},[s("Toast",{attrs:{toastText:"Changes Saved",showImg:!1}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("SideProfile",{attrs:{username:this.$parent.username}})],1),s("div",{staticClass:"col-md-9 col-lg-7"},[s("h3",{staticClass:"fw-bold"},[t._v("My Interests")]),s("div",t._l(t.my_interests,(function(e,a){return s("button",{key:a,staticClass:"btn interest-btn pe-1 ps-2 m-2"},[t._v(" "+t._s(e)+" "),s("i",{staticClass:"far fa-times-circle fa-md ms-1",on:{click:function(s){return t.deleteInterest(e)}}})])})),0),s("hr"),s("div",{staticClass:"text-end"},[s("button",{staticClass:"btn btn-black rounded-pill",on:{click:function(e){return t.saveNewInterests()}}},[t._v(" Save Changes ")])]),s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"fw-bold"},[t._v("Add New Interests")]),s("div",{staticStyle:{position:"relative"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tag_input,expression:"tag_input"}],staticClass:"form-control ps-5 mt-3",attrs:{type:"text",placeholder:"Search..",name:"search"},domProps:{value:t.tag_input},on:{input:function(e){e.target.composing||(t.tag_input=e.target.value)}}}),t._m(0)]),t.tag_input.length>=0?s("div",{staticClass:"text-start mt-3",staticStyle:{"max-height":"50vh","overflow-y":"auto","word-break":"break-word"}},t._l(t.filtered_tags,(function(e,a){return s("span",{key:a},[s("button",{staticClass:"btn interest-btn m-1",on:{click:function(s){return t.addTag(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0):t._e()])])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticStyle:{position:"absolute",top:"7px",left:"10px",color:"grey"}},[s("i",{staticClass:"fas fa-search"})])}],i=s("b85c"),r=(s("a434"),s("caad"),s("2532"),s("b0c0"),s("ac1f"),s("5319"),s("498a"),s("bf41")),o=s("0eb4"),c=s("bc3a"),l=s.n(c),u={components:{SideProfile:r["a"],Toast:o["a"]},data:function(){return{my_interests:[],all_tags:[],tag_input:"",loader:!1}},methods:{myInterests:function(){var t=this,e=window.localStorage.getItem("jwt"),s={headers:{authorization:"Bearer ".concat(e)}},a="/api/getUserDetails";l.a.get(a,s).then((function(e){t.my_interests=e.data.interests}))},deleteInterest:function(t){var e=window.localStorage.getItem("jwt");this.config={headers:{authorization:"Bearer ".concat(e)}};var s="/api/setInterests";this.my_interests.splice(this.my_interests.indexOf(t),1),this.all_tags.push({name:t,selected:!1}),l.a.post(s,{interests:this.my_interests},this.config).then((function(t){console.log(t)}))},getTags:function(){var t=this,e="/api/getActivityTags";l.a.get(e).then((function(e){for(var s=e.data[0].Tags,a=0;a<s.length;a++){var n=s[a];t.all_tags.push({name:n,selected:!1})}}))},addTag:function(t){if(this.my_interests.includes(t.name))t.selected=!1;else if(t.selected)t.selected=!1;else if(t.selected=!0,!this.my_interests.includes(t.name)){this.my_interests.push(t.name);for(var e=0;e<this.all_tags.length;e++){var s=this.all_tags[e].name;if(s.toLowerCase()==t.name.toLowerCase()){this.all_tags.splice(e,1);break}}}},saveNewInterests:function(){var t=this;this.loader=!0;var e=window.localStorage.getItem("jwt");this.config={headers:{authorization:"Bearer ".concat(e)}};var s="/api/setInterests";l.a.post(s,{interests:this.my_interests},this.config).then((function(e){var s=document.getElementById("snackbar");s.className="show",setTimeout((function(){s.className=s.className.replace("show","")}),3e3),console.log(e),t.loader=!1}))}},computed:{filtered_tags:function(){if(""==this.tag_input.trim())return this.all_tags;var t,e=[],s=Object(i["a"])(this.all_tags);try{for(s.s();!(t=s.n()).done;){var a=t.value;""!=this.tag_input&&a.name.toLowerCase().includes(this.tag_input.toLowerCase())&&e.push({name:a.name,selected:!1})}}catch(n){s.e(n)}finally{s.f()}return e}},mounted:function(){this.$parent.loggedIn?(this.myInterests(),this.getTags()):this.$router.push({name:"Login",query:{redirect:"myInterest",msg:"Oops! You must be logged in to access your interests page"}})}},d=u,h=(s("bf26"),s("2877")),m=Object(h["a"])(d,a,n,!1,null,"1e90ac2e",null);e["default"]=m.exports},bf26:function(t,e,s){"use strict";s("70c0")}}]);
//# sourceMappingURL=chunk-9b1bd9c4.f1028b89.js.map